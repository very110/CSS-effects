<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
</html>
<script>
	const arrayData = [{
			id: 2,
			title: '中国',
			parent_id: 0
		},
		{
			id: 3,
			title: '广东省',
			parent_id: 2
		},
		{
			id: 4,
			title: '广州市',
			parent_id: 3
		},
		{
			id: 5,
			title: '天河区',
			parent_id: 4
		},
		{
			id: 6,
			title: '湖南省',
			parent_id: 2
		},
		{
			id: 1,
			title: '俄罗斯',
			parent_id: 0
		}
	]

	function getChildren(data, result = [], pid) {
		data.forEach(item => {
			if (item.parent_id === pid) {
				let newobj = {
					Children: [],
					...item
				};
				let c = getChildren(data, newobj.Children, item.id);
				if (!c?.length > 0) {
					delete newobj.Children
				}
				result.push(newobj);
			}
		})
		return result;
	}

	console.log(getChildren(arrayData, [], 0));
</script>
