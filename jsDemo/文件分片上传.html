<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="https://cdn.staticfile.org/axios/1.3.1/axios.js"></script>
	</head>
	<body>
		<img src="http://s.contest.com/cover/20230317/0187b0dc4fd9529e0812edfd98c607aa.png" alt="">
		<input type="file" id="fil">

	</body>
</html>
<script>
	const file = new File(['123awdfveasr'], 'ggc.txt');
	const url = 'https://httpbin.org/post';
	const count = 3;

	async function ga() {
		for (let i = 0; i < file.size; i += count) {
			let chunk = file.slice(i, i + count);

			let fromdata = new FormData();
			fromdata.append('chunk', chunk);

			let val = await axios({
				url,
				method: 'post',
				data: fromdata,
				headers: {
					'content-type': 'multipart/form-data'
				},
			})

			// let val=await fetch(url,{method:'post',body:fromdata});
			// val.text().then(val=>{
			// 	console.log(val);
			// });
		}
	}

	let df = new FormData();
	document.querySelector('#fil').onchange = function() {

		df.append('asdas', this.files[0], this.files[0].name);
		console.log();
	}
	// 

	const service = axios.create({
		timeout: 20000 // 请求超时时间
	})
	console.log(service({
		url: 'http://localhost:8444/',
		method: 'get',
	}).then(e => {
		console.log(e);
	}));
</script>
